# ============================================================================
# FinanceFlow Environment Configuration
# ============================================================================
# 
# This project supports THREE runtime environments:
#   1. LOCAL  (.env.local)  - Development on your laptop (no Docker/AWS)
#   2. DOCKER (.env.docker) - Local Docker Compose with DynamoDB Local
#   3. PRODUCTION (.env.production) - AWS deployment
#
# QUICK START:
#   1. Copy the appropriate section below to your .env file
#   2. Or use: npm run dev (automatically loads .env.local)
#
# ============================================================================

# ============================================================================
# ENVIRONMENT SELECTOR (REQUIRED)
# ============================================================================
# This single variable controls both auth mode AND storage backend:
#
# VITE_APP_ENV=local
#   - Auth: Dev auth (PBKDF2 hashing in localStorage)
#   - Storage: localStorage (browser-only)
#   - API: Local dev-server for OpenAI (optional)
#   - Use case: Quick development, no external dependencies
#
# VITE_APP_ENV=docker
#   - Auth: Dev auth (same as local)
#   - Storage: DynamoDB Local (via Docker)
#   - API: Express backend in container
#   - Use case: Test DynamoDB integration locally
#
# VITE_APP_ENV=production
#   - Auth: AWS Cognito (OIDC)
#   - Storage: AWS DynamoDB
#   - API: API Gateway + Lambda
#   - Use case: Production deployment on AWS

VITE_APP_ENV=local

# ============================================================================
# DISPLAY / DEBUGGING
# ============================================================================
# Human-readable environment name (for logging and UI)
VITE_ENVIRONMENT=local

# ============================================================================
# API CONFIGURATION
# ============================================================================
# Where to send API requests (AI suggestions, etc.)
#
# LOCAL:      http://localhost:3001 (run: cd dev-server && npm start)
# DOCKER:     /api (nginx proxies to Express in same container)
# PRODUCTION: /api (CloudFront proxies to API Gateway)

VITE_API_BASE_URL=http://localhost:3001

# ============================================================================
# AWS CONFIGURATION (PRODUCTION ONLY)
# ============================================================================
# These are ONLY required when VITE_APP_ENV=production

# AWS Region (Frankfurt)
VITE_AWS_REGION=eu-central-1

# Cognito User Pool ID (format: eu-central-1_XXXXXXXXX)
VITE_AWS_COGNITO_USER_POOL_ID=

# Cognito App Client ID (26-character string)
VITE_AWS_COGNITO_CLIENT_ID=

# Cognito Domain (for hosted UI, optional)
VITE_AWS_COGNITO_DOMAIN=

# Application URL (CloudFront or custom domain)
VITE_APP_URL=

# API Gateway URL (if not using CloudFront proxy)
# VITE_API_GATEWAY_URL=

# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# --- LOCAL DEVELOPMENT ---
# VITE_APP_ENV=local
# VITE_ENVIRONMENT=local
# VITE_API_BASE_URL=http://localhost:3001

# --- DOCKER COMPOSE ---
# VITE_APP_ENV=docker
# VITE_ENVIRONMENT=docker
# VITE_API_BASE_URL=/api
# VITE_AWS_REGION=eu-central-1

# --- AWS PRODUCTION ---
# VITE_APP_ENV=production
# VITE_ENVIRONMENT=production
# VITE_API_BASE_URL=/api
# VITE_AWS_REGION=eu-central-1
# VITE_AWS_COGNITO_USER_POOL_ID=eu-central-1_XXXXXXXXX
# VITE_AWS_COGNITO_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxx
# VITE_AWS_COGNITO_DOMAIN=https://your-domain.auth.eu-central-1.amazoncognito.com
# VITE_APP_URL=https://your-cloudfront-url.cloudfront.net

# ============================================================================
# DEPRECATED VARIABLES (DO NOT USE)
# ============================================================================
# The following variables are deprecated and have been replaced by VITE_APP_ENV:
#
# ❌ VITE_DEV_ONLY_AUTH     → Use VITE_APP_ENV=local or docker
# ❌ VITE_USE_DYNAMODB      → Use VITE_APP_ENV=docker or production
# ❌ VITE_RUNTIME           → Use VITE_APP_ENV
# ❌ VITE_API_GATEWAY_URL   → Use VITE_API_BASE_URL

# ============================================================================
# SECURITY NOTES
# ============================================================================
# ⚠️  NEVER commit .env files with real credentials to git
# ⚠️  Add .env* to .gitignore (except .env.example)
# ⚠️  Use AWS Secrets Manager for production secrets
# ⚠️  Rotate credentials regularly
